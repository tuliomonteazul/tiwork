CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE CLIENTE(CPF INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(15) NOT NULL,SENHA VARCHAR(15) NOT NULL,DATANASC DATE NOT NULL)
CREATE MEMORY TABLE PRODUTO(CODIGO INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,PRECO DOUBLE NOT NULL,QUANTIDADE INTEGER NOT NULL)
CREATE MEMORY TABLE QUARTO(NUMERO INTEGER NOT NULL PRIMARY KEY,CAPACIDADE INTEGER NOT NULL,DIARIA DOUBLE NOT NULL,STATUS VARCHAR(20) DEFAULT 'DESOCUPADO')
CREATE MEMORY TABLE FUNCIONARIO(CPF INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(20) NOT NULL,SENHA VARCHAR(30) NOT NULL,DATANASC DATE NOT NULL,CARGO VARCHAR(30) NOT NULL,SALARIO DOUBLE NOT NULL)
CREATE MEMORY TABLE PRODUTOPEDIDO(CODIGO INTEGER NOT NULL,NUMERO INTEGER NOT NULL,QUANTIDADE INTEGER NOT NULL,CONSTRAINT SYS_FK_72 FOREIGN KEY(CODIGO) REFERENCES PRODUTO(CODIGO),CONSTRAINT SYS_FK_73 FOREIGN KEY(NUMERO) REFERENCES QUARTO(NUMERO))
CREATE MEMORY TABLE LOCACAO(NUMERO INTEGER NOT NULL,CPF INTEGER NOT NULL,DATAENTRADA DATE NOT NULL,DATASAIDA DATE NOT NULL,VALORPAGAR DOUBLE NOT NULL,CONSTRAINT SYS_FK_79 FOREIGN KEY(NUMERO) REFERENCES QUARTO(NUMERO),CONSTRAINT SYS_FK_80 FOREIGN KEY(CPF) REFERENCES CLIENTE(CPF))
CREATE MEMORY TABLE FUNC(LOGIN VARCHAR(10) NOT NULL,SENHA VARCHAR(10) NOT NULL,PRIMARY KEY(LOGIN,SENHA))
CREATE MEMORY TABLE FARMACEUTICO(LOGIN VARCHAR(10) NOT NULL,SENHA VARCHAR(10) NOT NULL,PRIMARY KEY(LOGIN,SENHA))
CREATE MEMORY TABLE MEDIDAS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,TIPO VARCHAR(4) NOT NULL)
CREATE MEMORY TABLE MEDICAMENTOS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NOME VARCHAR(10) NOT NULL,PRINCIPIO_ATIVO VARCHAR(5) NOT NULL,TIPO_MEDICAMENTO VARCHAR(10) NOT NULL,PESO DOUBLE NOT NULL,MEDIDA INTEGER NOT NULL,QUANTIDADE INTEGER,CONSTRAINT SYS_FK_122 FOREIGN KEY(MEDIDA) REFERENCES MEDIDAS(COD),CONSTRAINT SYS_CT_123 CHECK(MEDICAMENTOS.TIPO_MEDICAMENTO IN ('drageas','suspensao')))
CREATE MEMORY TABLE SINTOMAS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,DESCRICAO VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE DOENCA(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,DESCRICAO VARCHAR(60) NOT NULL)
CREATE MEMORY TABLE DOENCA_MEDICACAO(COD_MEDICAMENTO INTEGER NOT NULL,COD_DOENCA INTEGER NOT NULL,CONSTRAINT SYS_FK_132 FOREIGN KEY(COD_DOENCA) REFERENCES DOENCA(COD),CONSTRAINT SYS_FK_133 FOREIGN KEY(COD_MEDICAMENTO) REFERENCES MEDICAMENTOS(COD))
CREATE MEMORY TABLE DOENCA_SINTOMAS(COD_DOENCA INTEGER NOT NULL,COD_SINTOMAS INTEGER NOT NULL,CONSTRAINT SYS_FK_139 FOREIGN KEY(COD_DOENCA) REFERENCES DOENCA(COD),CONSTRAINT SYS_FK_140 FOREIGN KEY(COD_SINTOMAS) REFERENCES SINTOMAS(COD))
CREATE MEMORY TABLE USUARIO(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(30) NOT NULL,SENHA VARCHAR(12) NOT NULL,PAPEL INTEGER NOT NULL,CONSTRAINT VALIDARPAPEL CHECK((USUARIO.PAPEL=1) OR (USUARIO.PAPEL=2)))
CREATE MEMORY TABLE ESTOQUE(COD INTEGER NOT NULL,QUANTIDADE INTEGER NOT NULL,VALOR DOUBLE NOT NULL)
CREATE MEMORY TABLE USUARIOROLE(LOGIN VARCHAR(30) NOT NULL,PAPEL VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE VENDA(CODVENDA INTEGER NOT NULL,CODFUNCIONARIO INTEGER NOT NULL,CODREMEDIO INTEGER NOT NULL,QUANTIDADE INTEGER NOT NULL,VALOR INTEGER NOT NULL,DATA DATE NOT NULL)
ALTER TABLE MEDIDAS ALTER COLUMN COD RESTART WITH 4
ALTER TABLE MEDICAMENTOS ALTER COLUMN COD RESTART WITH 12
ALTER TABLE SINTOMAS ALTER COLUMN COD RESTART WITH 6
ALTER TABLE DOENCA ALTER COLUMN COD RESTART WITH 8
ALTER TABLE USUARIO ALTER COLUMN ID RESTART WITH 11
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO CLIENTE VALUES(1,'Tulio','tulio','123','1988-11-19')
INSERT INTO CLIENTE VALUES(2,'Bruno','bruno','123','1989-06-30')
INSERT INTO PRODUTO VALUES(1,'Agua',1.0E0,20)
INSERT INTO PRODUTO VALUES(2,'Biscoito',2.0E0,10)
INSERT INTO PRODUTO VALUES(3,'Refrigerante',2.5E0,30)
INSERT INTO PRODUTO VALUES(4,'Suco',2.0E0,30)
INSERT INTO QUARTO VALUES(1,1,1.0E0,'desocupado')
INSERT INTO QUARTO VALUES(12,133,213.0E0,'desabilitado')
INSERT INTO FUNCIONARIO VALUES(1,'1','1','1','1990-08-08','sw',12.0E0)
INSERT INTO MEDIDAS VALUES(0,'g')
INSERT INTO MEDIDAS VALUES(1,'mg')
INSERT INTO MEDIDAS VALUES(2,'l')
INSERT INTO MEDIDAS VALUES(3,'ml')
INSERT INTO MEDICAMENTOS VALUES(7,'Tylenol','Paracetamol','drageas',50.0E0,0,20)
INSERT INTO MEDICAMENTOS VALUES(8,'Sonrisal','Algo que dissolve','suspensao',30.0E0,0,10)
INSERT INTO MEDICAMENTOS VALUES(9,'Aspirina','Acido Acetilsalic\u00edlico','drageas',100.0E0,0,10)
INSERT INTO MEDICAMENTOS VALUES(11,'Buscopan','brometo de n-butiloscopolamina','suspensao',20.0E0,3,1)
INSERT INTO SINTOMAS VALUES(0,'Dor de Cabe\u00e7a')
INSERT INTO SINTOMAS VALUES(1,'Febre')
INSERT INTO SINTOMAS VALUES(2,'N\u00e1useas')
INSERT INTO SINTOMAS VALUES(3,'Dor de Garganta')
INSERT INTO SINTOMAS VALUES(4,'Diarr\u00e9ia')
INSERT INTO SINTOMAS VALUES(5,'Tosse')
INSERT INTO DOENCA VALUES(0,'Gripe')
INSERT INTO DOENCA VALUES(1,'Virose')
INSERT INTO DOENCA VALUES(2,'Resfriado')
INSERT INTO DOENCA VALUES(3,'Infec\u00e7\u00e3o de Garganta')
INSERT INTO DOENCA VALUES(4,'Dengue')
INSERT INTO DOENCA VALUES(5,'Mal\u00e1ria')
INSERT INTO DOENCA VALUES(6,'Febre Amarela')
INSERT INTO DOENCA VALUES(7,'caganeira')
INSERT INTO DOENCA_MEDICACAO VALUES(7,0)
INSERT INTO DOENCA_MEDICACAO VALUES(8,0)
INSERT INTO DOENCA_SINTOMAS VALUES(7,2)
INSERT INTO DOENCA_SINTOMAS VALUES(7,4)
INSERT INTO USUARIO VALUES(0,'Tulio','tulio','123',1)
INSERT INTO USUARIO VALUES(1,'Bruno','bruno','123',2)
INSERT INTO USUARIO VALUES(2,'Teste','teste','teste',1)
INSERT INTO USUARIO VALUES(8,'1','1','1',1)
INSERT INTO USUARIO VALUES(9,'2','2','2',2)
INSERT INTO USUARIO VALUES(10,'Victor','victor','1',2)
INSERT INTO ESTOQUE VALUES(7,28,5.0E0)
INSERT INTO ESTOQUE VALUES(8,15,10.0E0)
INSERT INTO USUARIOROLE VALUES('tulio','admin')
INSERT INTO VENDA VALUES(1,0,7,5,35,'2008-11-15')
INSERT INTO VENDA VALUES(1,0,8,9,90,'2008-11-15')
INSERT INTO VENDA VALUES(2,0,8,1,10,'2008-11-15')
INSERT INTO VENDA VALUES(3,0,7,6,42,'2008-11-15')
INSERT INTO VENDA VALUES(4,0,7,2,14,'2008-11-15')
INSERT INTO VENDA VALUES(4,0,8,2,20,'2008-11-15')
INSERT INTO VENDA VALUES(5,0,7,4,28,'2008-11-15')
INSERT INTO VENDA VALUES(5,0,8,1,10,'2008-11-15')
INSERT INTO VENDA VALUES(6,0,7,1,7,'2008-11-15')
INSERT INTO VENDA VALUES(7,8,7,5,35,'2008-11-17')
INSERT INTO VENDA VALUES(8,8,7,9,63,'2008-11-17')
INSERT INTO VENDA VALUES(9,8,7,1,5,'2008-11-17')
INSERT INTO VENDA VALUES(10,8,8,4,40,'2008-11-17')
INSERT INTO VENDA VALUES(11,8,8,5,50,'2008-11-17')
