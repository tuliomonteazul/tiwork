CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE CLIENTE(CPF INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(15) NOT NULL,SENHA VARCHAR(15) NOT NULL,DATANASC DATE NOT NULL)
CREATE MEMORY TABLE PRODUTO(CODIGO INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,PRECO DOUBLE NOT NULL,QUANTIDADE INTEGER NOT NULL)
CREATE MEMORY TABLE QUARTO(NUMERO INTEGER NOT NULL PRIMARY KEY,CAPACIDADE INTEGER NOT NULL,DIARIA DOUBLE NOT NULL,STATUS VARCHAR(20) DEFAULT 'DESOCUPADO')
CREATE MEMORY TABLE FUNCIONARIO(CPF INTEGER NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(20) NOT NULL,SENHA VARCHAR(30) NOT NULL,DATANASC DATE NOT NULL,CARGO VARCHAR(30) NOT NULL,SALARIO DOUBLE NOT NULL)
CREATE MEMORY TABLE PRODUTOPEDIDO(CODIGO INTEGER NOT NULL,NUMERO INTEGER NOT NULL,QUANTIDADE INTEGER NOT NULL,CONSTRAINT SYS_FK_72 FOREIGN KEY(CODIGO) REFERENCES PRODUTO(CODIGO),CONSTRAINT SYS_FK_73 FOREIGN KEY(NUMERO) REFERENCES QUARTO(NUMERO))
CREATE MEMORY TABLE LOCACAO(NUMERO INTEGER NOT NULL,CPF INTEGER NOT NULL,DATAENTRADA DATE NOT NULL,DATASAIDA DATE NOT NULL,VALORPAGAR DOUBLE NOT NULL,CONSTRAINT SYS_FK_79 FOREIGN KEY(NUMERO) REFERENCES QUARTO(NUMERO),CONSTRAINT SYS_FK_80 FOREIGN KEY(CPF) REFERENCES CLIENTE(CPF))
CREATE MEMORY TABLE FUNC(LOGIN VARCHAR(10) NOT NULL,SENHA VARCHAR(10) NOT NULL,PRIMARY KEY(LOGIN,SENHA))
CREATE MEMORY TABLE FARMACEUTICO(LOGIN VARCHAR(10) NOT NULL,SENHA VARCHAR(10) NOT NULL,PRIMARY KEY(LOGIN,SENHA))
CREATE MEMORY TABLE MEDIDAS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,TIPO VARCHAR(4) NOT NULL)
CREATE MEMORY TABLE MEDICAMENTOS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NOME VARCHAR(10) NOT NULL,PRINCIPIO_ATIVO VARCHAR(5) NOT NULL,TIPO_MEDICAMENTO VARCHAR(10) NOT NULL,PESO DOUBLE NOT NULL,MEDIDA INTEGER NOT NULL,QUANTIDADE INTEGER,CONSTRAINT SYS_FK_122 FOREIGN KEY(MEDIDA) REFERENCES MEDIDAS(COD),CONSTRAINT SYS_CT_123 CHECK(MEDICAMENTOS.TIPO_MEDICAMENTO IN ('drageas','suspensao')))
CREATE MEMORY TABLE SINTOMAS(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,DESCRICAO VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE DOENCA(COD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,DESCRICAO VARCHAR(60) NOT NULL)
CREATE MEMORY TABLE DOENCA_MEDICACAO(COD_MEDICAMENTO INTEGER NOT NULL,COD_DOENCA INTEGER NOT NULL,CONSTRAINT SYS_FK_132 FOREIGN KEY(COD_DOENCA) REFERENCES DOENCA(COD),CONSTRAINT SYS_FK_133 FOREIGN KEY(COD_MEDICAMENTO) REFERENCES MEDICAMENTOS(COD))
CREATE MEMORY TABLE DOENCA_SINTOMAS(COD_DOENCA INTEGER NOT NULL,COD_SINTOMAS INTEGER NOT NULL,CONSTRAINT SYS_FK_139 FOREIGN KEY(COD_DOENCA) REFERENCES MEDICAMENTOS(COD),CONSTRAINT SYS_FK_140 FOREIGN KEY(COD_SINTOMAS) REFERENCES SINTOMAS(COD))
CREATE MEMORY TABLE USUARIO(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NOME VARCHAR(30) NOT NULL,LOGIN VARCHAR(30) NOT NULL,SENHA VARCHAR(12) NOT NULL,PAPEL INTEGER NOT NULL)
ALTER TABLE MEDIDAS ALTER COLUMN COD RESTART WITH 0
ALTER TABLE MEDICAMENTOS ALTER COLUMN COD RESTART WITH 0
ALTER TABLE SINTOMAS ALTER COLUMN COD RESTART WITH 0
ALTER TABLE DOENCA ALTER COLUMN COD RESTART WITH 0
ALTER TABLE USUARIO ALTER COLUMN ID RESTART WITH 2
ALTER TABLE USUARIO ADD CONSTRAINT validarPapel CHECK (PAPEL = 1 OR PAPEL = 2)
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO CLIENTE VALUES(1,'Tulio','tulio','123','1988-11-19')
INSERT INTO CLIENTE VALUES(2,'Bruno','bruno','123','1989-06-30')
INSERT INTO PRODUTO VALUES(1,'Agua',1.0E0,20)
INSERT INTO PRODUTO VALUES(2,'Biscoito',2.0E0,10)
INSERT INTO PRODUTO VALUES(3,'Refrigerante',2.5E0,30)
INSERT INTO PRODUTO VALUES(4,'Suco',2.0E0,30)
INSERT INTO QUARTO VALUES(1,1,1.0E0,'desocupado')
INSERT INTO QUARTO VALUES(12,133,213.0E0,'desabilitado')
INSERT INTO FUNCIONARIO VALUES(1,'1','1','1','1990-08-08','sw',12.0E0)
INSERT INTO USUARIO VALUES(0,'Tulio','tulio','123',1)
INSERT INTO USUARIO VALUES(1,'Bruno','bruno','123',2)

